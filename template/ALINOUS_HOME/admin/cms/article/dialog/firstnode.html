<html>
<body>

<script type="text/javascript" charset="utf-8">
<!--
function createFirstNode(form)
{
	var treeCode =  $("#newTreeCode").val();
	var page_title = form.page_title.value;
	var template_top_id = form.template_top_id.value;
	var second_template_top_id = form.second_template_top_id.value;
	var second_template_context = form.second_template_context.value;
	var page_status = form.page_status.value;
	
	if(treeCode == ""){
		alert("Input the Page Code");
		return;
	}
	if(treeCode.match(/[^.A-Za-z0-9_-]+/)){
		alert("Please input Page code in alphabets, numbers, '_' and '-'.");
		return;
	}		
	if(page_title == ""){
		alert("Input the Title.");
		return;
	}
	
	document.firstfrm.nodeCode.value = treeCode;
	document.firstfrm.page_title.value = page_title;
	document.firstfrm.template_top_id.value = template_top_id;
	document.firstfrm.second_template_top_id.value = second_template_top_id;
	document.firstfrm.second_template_context.value = second_template_context;
	document.firstfrm.page_status.value = page_status;
	
	document.firstfrm.cmd.value = 'createFirst';
	document.firstfrm.submit();
}
-->
</script>

<h1>Create the First Page</h1>


<form name="dlgfrm" action="index.html">

<table>
	<tr>
		<td width="160">
			WebSite :
		</td>
		<td>
			<input type="text" name="treeCode" id="newTreeCode" size="32" maxlength="128" />
		</td>
	</tr>
	<tr>
		<td width="160">
			Title:
		</td>
		<td>
			<input type="text" size="80" style="width:400px;" name="page_title" value="" />
		</td>
	</tr>
	<tr>
		<td width="160">
			Page Template:
		</td>
		<td>
			<select name="template_top_id">
			<option value="0">Use Default</option>
			<option value="{$oneRecord.template_top_id}" alns:iterate="@template_top" alns:variable="oneRecord">{$oneRecord.template_top_name}</option>
			</select>
		</td>
	</tr>
		<tr>
			<td width="160">
				Second Template:
			</td>
			<td>
				<select name="second_template_top_id" value="0">
				<option value="0">Use Default</option>
				<option value="{$oneRecord.template_top_id}" alns:iterate="@template_top" alns:variable="oneRecord">{$oneRecord.template_top_name}</option>
				</select>
				
				Root Context:
				<input type="text" name="second_template_context" value="mb" size="5" maxlength="255"/>
			</td>
		</tr>
	<tr>
		<td width="160">
			Status:
		</td>
		<td>
			<select name="page_status">
			<option value="draft">draft</option>
			<option value="published">published</option>
			</select>
		</td>
	</tr>
</table>

<br />

<button type="button" onclick="createFirstNode(this.form)">Create Page</button>
<button type="button" onclick='$( "#dialog" ).dialog( "close" );'>Cancel</button>
</form>

</body>
</html>